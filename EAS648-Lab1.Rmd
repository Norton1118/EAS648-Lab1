---
title: "EAS648-Lab1"
author: "Sumire Yamada"
date: "2025-10-24"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## R Markdown

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

```{r}
library(ggplot2)
library(sf)
library(tidyverse)
```

## Including Plots

You can also embed plots, for example:

```{r}
# be self-contained in the chunk
library(sf)

dsn   <- "G:/My Drive/000_25_Fall/EAS648/EAS648-Lab1/BolderSocialmedia"
sf::st_layers(dsn)  

boulder <- sf::st_read(dsn = dsn, layer = "BoulderSocialMedia", quiet = FALSE)
boulder
```
```{r}
ggplot() +
    geom_sf(data =boulder,
    fill = NA, alpha = .2) +
    theme_bw()
```
```{r}
boulder = st_transform(boulder, 26753) 
ggplot() +
    geom_sf(data =boulder,
    fill = NA, alpha = .2) +
    theme_bw()
```

```{r}
ggplot() +
    geom_sf(data =boulder, aes(color=PT_Elev),
    fill = NA, alpha = .2) +
    theme_bw()
```
```{r}
ggplot() +
    geom_sf(data =boulder, aes(color=PT_Elev),
    fill = NA, alpha = .2) +
  scale_colour_gradientn(colours = terrain.colors(10)) +  
  theme_bw()
```

```{r}
#library(dplyer)
boulder %>%
    mutate(high_elev = ifelse(PT_Elev >= 2200, TRUE, FALSE))%>% 
ggplot() +
  geom_sf(aes(color=high_elev),
    fill = NA, alpha = .2)  +  
  theme_bw()
```

```{r}
boulder %>%
  filter(DB ==  'Pano' | DB == 'Flickr') %>%
  ggplot(aes(x=DB, y=Street_dis)) + 
  geom_boxplot()
```
```{r}
library(sf)
library(ggspatial)
library(viridis)
```
```{r}
magma(10)
```

```{r}
boulder <- st_read("G:/My Drive/000_25_Fall/EAS648/EAS648-Lab1/BolderSocialmedia/BoulderSocialMedia.shp")
```

```{r}
ggplot() +
    geom_sf(data = boulder, aes(color=PT_Elev),
    fill = NA, alpha = .2) + 
    scale_colour_gradientn(colours = magma(10))
```
```{r}
summary(boulder$DB)
```

```{r}
p <- ggplot() +
  annotation_spatial(boulder) +
  layer_spatial(boulder, aes(col = DB))
p + scale_color_brewer(palette = "Dark2")
```
```{r}
library(tmap)
```
```{r}
## Add the data - these are specific to the vector or raster
tm_shape(boulder) + 
  ## which variable, is there a class interval, palette, and other options
  tm_symbols(col='PT_Elev', 
             style='quantile', 
             palette = 'YlOrRd',
             border.lwd = NA,
             size = 0.1)
```
```{r}
## here we are using a simple dataset of the world 
# tmap_mode("plot")
data("World")
tm_shape(World) +
    tm_polygons("gdp_cap_est", style='quantile', legend.title = "GDP Per Capita Estimate")
```

```{r}
## the view mode creates an interactive map
tmap_mode("view")
```

```{r}
tm_shape(World) +
    tm_polygons("gdp_cap_est", style='quantile', legend.title = "GDP Per Capita Estimate")
```

## Introduction

This report demonstrates an open science workflow for geospatial analysis using Boulder Social Media data, combining transparency and reproducibility with visual storytelling.

## Data Preparation
```{r}
library(sf)
library(ggplot2)
library(dplyr)
library(viridis)
```

# Load spatial data 
```{r}
boulder <- st_read("G:/My Drive/000_25_Fall/EAS648/EAS648-Lab1/BolderSocialmedia/BoulderSocialMedia.shp")
```

## Project Data to Appropriate CRS
```{r}
boulder <- st_transform(boulder, 26753)
```

## Spatial Distribution Map
```{r}
ggplot() +
  geom_sf(data = boulder, aes(color = PT_Elev), alpha = 0.3) +
  scale_color_viridis(option = "viridis", name = "Elevation (m)") +
  theme_bw() +
  labs(title = "Social Media Photo Locations in Boulder OSMP",
       caption = "Data: BoulderSocialMedia")

```
## Boxplot: Road Distance by Social Media Source
```{r}
ggplot(
  data = boulder %>% filter(DB %in% c("Pano", "Flickr")),
  aes(x = DB, y = Street_dis, fill = DB)) +
  geom_boxplot() +
  theme_bw() +
  labs(title = "Distance from Road by Photo Source",
       x = "Source", y = "Distance to Nearest Road (m)")

```

## Discussion

The geospatial visualization reveals that social media photo locations in Boulder OSMP are concentrated in areas with greater elevations and varied terrain. The central and western parts of the park feature the most photographed sites, which are typically located near accessible trails and scenic overlooks. The elevation gradient displayed on the map underscores the popularity of higher landscapes, likely due to their aesthetic appeal and the higher levels of outdoor activity in those 

The boxplot that compares submissions from Flickr and Panoramio reveals how the distance to roads differs between the two platforms. Both platforms show a broad range of distances from roads, but the median values indicate that users of Panoramio typically photograph locations that are farther away from roads compared to Flickr users. This might suggest that Panoramio contributors are more likely to explore remote or hard-to-reach areas, whereas Flickr users tend to capture images closer to roadways. However, both distributions have long upper tails, indicating that many photographs are taken in more secluded spots. This suggests that not all shared content is focused solely on well-known or easily accessible locations.

## Conclusion

These visual representations illustrate how both the physical geography and accessibility for people affect the spatial and thematic trends in photo sharing on social media. The map shows that landscape elements like elevation draw considerable interest, while the boxplot reveals minor variations in user behavior among different platforms. By combining open data, replicable workflows, and effective geovisualization, this analysis underscores the significance of open science methods in examining public interaction with protected areas. The workflow is transparent and can be readily modified or expanded for additional research or review by peers.

## Version Control

> ![Git history screenshot](git_commits_screenshot.png)
  
